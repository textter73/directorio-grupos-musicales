<div class="registro-container">
  <header class="registro-header">
    <h1>Registrarse como Organizador</h1>
    <button class="btn-volver" (click)="volver()">‚Üê Volver</button>
  </header>

  <div class="success-message" *ngIf="success">
    <h2>¬°Solicitud Enviada!</h2>
    <p>Tu solicitud ha sido enviada correctamente. Ser√° revisada por nuestro equipo.</p>
    <p>Ser√°s redirigido autom√°ticamente...</p>
  </div>

  <form *ngIf="!success" (ngSubmit)="onSubmit()" class="registro-form">
    <div class="form-section">
      <h3>Informaci√≥n Personal</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="nombre">Nombre *</label>
          <input type="text" id="nombre" [(ngModel)]="organizador.nombre" name="nombre" required>
        </div>
        
        <div class="form-group">
          <label for="apellidos">Apellidos *</label>
          <input type="text" id="apellidos" [(ngModel)]="organizador.apellidos" name="apellidos" required>
        </div>
      </div>

      <div class="form-group">
        <label for="empresa">Empresa/Organizaci√≥n</label>
        <input type="text" id="empresa" [(ngModel)]="organizador.empresa" name="empresa" placeholder="Ej: Eventos ABC, Mayordom√≠a San Miguel, etc.">
        <small class="field-hint">Puedes incluir si perteneces a alguna mayordom√≠a de tu comunidad</small>
      </div>
    </div>

    <div class="form-section">
      <h3>Informaci√≥n de Contacto</h3>
      
      <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" id="email" [(ngModel)]="organizador.email" name="email" required>
      </div>

      <div class="form-group">
        <label for="telefono">üì± Tel√©fono con WhatsApp *</label>
        <input type="tel" id="telefono" [(ngModel)]="organizador.telefono" name="telefono" placeholder="Ej: +52 55 1234 5678" required>
        <small class="field-hint">Ingresa un n√∫mero que tenga WhatsApp activo</small>
      </div>
    </div>

    <div class="form-section">
      <h3>Ubicaci√≥n</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="estado">Estado *</label>
          <select id="estado" [(ngModel)]="organizador.estado" name="estado" (change)="onEstadoChange()" required>
            <option value="">Selecciona un estado...</option>
            <option *ngFor="let estado of estados" [value]="estado">{{ estado }}</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="ciudad">Ciudad *</label>
          <select id="ciudad" [(ngModel)]="organizador.ciudad" name="ciudad" [disabled]="!organizador.estado" required>
            <option value="">{{ organizador.estado ? 'Selecciona una ciudad...' : 'Primero selecciona un estado' }}</option>
            <option *ngFor="let ciudad of getCiudades()" [value]="ciudad">{{ ciudad }}</option>
          </select>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Informaci√≥n de Eventos</h3>
      
      <div class="form-group">
        <label for="tipoEvento">Tipo de Eventos que Organizas</label>
        <select id="tipoEvento" [(ngModel)]="organizador.tipoEvento" name="tipoEvento">
          <option value="">Selecciona...</option>
          <option value="bodas">Bodas</option>
          <option value="serenatas">Serenatas</option>
          <option value="eventos-corporativos">Eventos Corporativos</option>
          <option value="festivales">Festivales</option>
          <option value="eventos-culturales">Eventos Culturales</option>
          <option value="celebraciones-privadas">Celebraciones Privadas</option>
          <option value="eventos-religiosos">Eventos Religiosos</option>
          <option value="otros">Otros</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="descripcion">Descripci√≥n de tu Actividad</label>
        <textarea id="descripcion" [(ngModel)]="organizador.descripcion" name="descripcion" rows="4" placeholder="Describe qu√© tipo de eventos organizas, tu experiencia, etc."></textarea>
      </div>
    </div>



    <div class="form-actions">
      <button type="submit" class="btn-submit" [disabled]="!isFormValid() || loading">
        {{ loading ? 'Enviando...' : 'Enviar Solicitud' }}
      </button>
    </div>
  </form>
</div>